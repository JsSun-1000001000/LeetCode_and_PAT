## 分析

见代码

## 代码
```cpp
class Solution {
public:
    vector<int> productExceptSelf(vector<int>& nums) {
        /**
         * @note 如果告诉你要你求除这个数之外的所有数，
         * 那么你会陷入优化遍历的这个惯性思维的陷阱，
         * 如果我告诉你要求除这个数之外的左边所有数和右边所有数，
         * 那么这题就可以有思路了（
         */

        int length = nums.size();
        //i 左侧的乘积，i右侧的乘积
        vector<int> L(length,0),R(length,0);
        vector<int> answer(length);
        //默认左侧所有元素乘积为1
        L[0] = 1;
        for(int i = 1; i < length; i++){
            L[i] = nums[i-1] * L[i-1];
        }
        R[length-1] = 1;
        for(int i = length-2; i >= 0; i--){
            R[i] = nums[i+1] * R[i+1];
        }
        //开始计算索引i 除了nums i 以外其余个元素的乘积就是左侧所有元素乘以右侧所有元素乘积
        for(int i = 0; i < length; i++){
            answer[i] = L[i] * R[i];
        }
        return answer;
    }
};
```